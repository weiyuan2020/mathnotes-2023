

# 3 输入、输出和传递函数

在前一章里我们已经看到,

在用拉氏变换法处理问题的时候,

常系数线性系统(2.3)的运动状态和多项式D(s)有着本质的关联。

D(s)是由方程(2.8)规定的,而且它的系数也就是微分方程的系数。

不仅如此,就是在一般的情形里,

如果初值问题里的 y(t)的初始值和各个初始导数值都等于零,

那么,系统的运动状态也是由两个多项式的比值 N(S)/D(s)所完全确定的。

我们是用F(s)表示这个比值的。

如果驱动函数的拉氏变换是X(s)而特解的拉氏变换是Y(s)的话,

方程(2.13)就给出

$$

Y_{i} (s) = F(s)X(s)

$$

该方程可以看成一个**算子方程**

可以把这个方程看作是一个运算子方程:

X(s)受到运算子F(s)的作用之后就变成Yi(s),

或者说,F(s)把 X(s)转变为Yi(s)。

因此我们就把函数F(s)称为系统的传递函数。

x(t)和它的拉氏变换X(s)都称为系统的输人,

yi(t)和它的拉氏变换Yi(s)都称为系统的输出。

为了特别表明yi(t)只是系统的特解而不是由于初始条件而产生的补充函数,我们把 

yi(t)称为由于输入而产生的输出,

把yc(t)称为由于初始条件而产生的输出。

拉氏变换的优点就在于把解微分方程的问题简化为代数的运算。

从Y(s)变回 y(t)的这个步骤实际上是很少需要的。

理由是这样的:既然系统的运动状态y(t)可以由 Y(s)完全确定,那么,也就可能把对 y(t)所提出的技术要求“翻译”成对Y(s)所提出的某些要求,

或者说,如果已经给定了输入的特性,那么,对y(t)所提出的要求,也就可以变为对传递函数F(s)所提出的某些要求。

例如:如果要求系统(2.3)是稳定系统的话,我们并不需要先把(2.10)中的 N(s)/D(s)-Yi(s)变回方程(2.11),然后再要求(t)随着时间的增大而趋于消失,实际上,我们只要要求传递函数1/D(s)的极点都位于s平面的左半部也就足够了。这种做法显然可以减少许多计算手续。

根据传递函数来研究或者设计一个系统是伺服系统工程中的基本方法。在这一章里,我们将要用一系列的实例来说明这个方法。

## 3.1 一阶系统

悬臂弹簧系统

弹簧常数k，阻尼器阻尼系数（阻力/速度）c。运动加速度相当小，惯性力可以忽略。

根据力的平衡条件得到系统运动方程

$$

c \frac{\mathrm{d}y}{\mathrm{d}t} + k(y-x) = 0

$$

${c /k }$比值量纲为时间，是系统的一个特性时间（特征时间）

$$

\tau_{1} = \frac{c}{k}

$$

$$

\tau_{1} \frac{\mathrm{d}y}{\mathrm{d}t} + y = x

$$

初始条件 ${y(0) = y_{0}}$

${\exp(-st)}$ 乘以方程两段，再从 ${t :(0, \infty)}$ 积分，得到拉式变换方程

$$

(\tau_{1}s + 1)Y(s) = X(s) + \tau_{1}y_{0}

$$

$$

Y(s) = 

\frac{X(s)}{\tau_{1}s+1} + 

\frac{\tau_{1}y_{0}}{\tau_{1}s+1} 

$$

输入产生的输出

$$

Y_{i}(s) = \frac{1}{\tau_{1}s + 1}X(s)

$$

初始条件产生的输出

$$

Y_{c}(s) = \frac{\tau_{1}y_{0}}{\tau_{1}s + 1}

$$

系统传递函数

$$

F(s) = \frac{1}{\tau_{1}s+1}

$$

单位阶跃输入

水平渐进， ${t = \tau_{1}}$ ${y_{i}(t) = y_{\infty} \times 63\%}$

![[工程控制论chap03输入输出传递函数--202403241503.png]]

正弦输入

振幅 ${A_{i} = A_{0} \frac{1}{\sqrt{ 1 + \omega^{2}\tau_{1}^{2} }} }$, 相角落后 ${\arctan \omega \tau_{1}}$

存在时滞 ${\tau_{1}}$

![[工程控制论chap03输入输出传递函数--202403241503-1.png]]

## 3.2 传递函数的表示法

传递函数F(S)是复变数s的函数。

因为在普通的情形下,它是两个s的多项式的比值,所以函数 F(s)除了一个常数因数之外可以由它的零点和极点所确定。

如果对于某一个特别的s值F(s)的值是已知的话,也就可以把常数因数确定下来,这时函数F(s)就完全确定了,

这里,最方便的就是考虑s在原点的值s=0,因为F(0)有具体的物理意义:

$$

|F(0)|= K

$$

(3.16)

是系统的放大,也就是系统在常数输人的情况下输出的稳态值与输人的比值。

又因为对于大多数的实际情形,F(0)常常是正数,因而F(0)=K。

所以,传递函数F(s)就可以由零点、极点和放大唯一地确定。

这也就是传递函数的一种可能的表示方法。

举例来说,我们可以这样来表示方程(3.8)所给的传递函数:它的放大是1;在-1/z有一个单极点;没有零点。

根据复变数函数论的结果,如果在s平面的虚轴上,F(S)的实数部分和虚数部分都已经完全给定的话,

那么,用解析开拓的方法就可以把s平面上其他部分的F(s)值也确定下来。

因此,我们也可以用复函数F(iω)(ω是实数,-∞<ω<+∞)来代表函数F(s)。

这就是传递函数的另外一种表示方法。

对于实际的物理系统来说,F(s)=N(s)/D(s)的分子多项式N(s)和分母多项式D(s)的系数都是实数,

所以,如果我们用F表示F的复共轭数的话,就有

(3.17)

$$

F(-iω)=\overline{F(iw)}

$$

因此,对于实际的物理系统,只要知道ω≥0的F(iω)值,就可以知道 ω<0的F(iw)值,从而也就可以定出对于任意s的F(s)的值。

从方程(2.16)我们已经知道函数F(iω)是频率ω的稳态输出与正弦输入之比,F(iw)(-∞<ω<+∞)就是系统的频率特性,

所以,**频率特性也是传递函数F(s)的一种表示方法**。

例如,方程(3.13)就是简单的一阶系统(3.3)的频率特性。

伯德(H.W.Bode)创造了一种表示频率特性的方法,这种方法就称为**伯德图**。

假定复数F(iω)的绝对值是M,相角是${\theta}$(M和${\theta}$当然都是ω的函数),也就是说

$$

F(i\omega) = M \exp(i\theta)

$$

把logω取作自变数,然后再把因变数logM和${\theta}$对logω的函数关系画在两张图上,这样得出的图就是伯德图。

(logM对logω的函数关系通常称为系统的对数振幅特性,

而${\theta}$对 logω的函数关系称为系统的对数相特性)。

至于为什么在这里M取了对数尺度而${\theta}$并不取对数尺度,这个道理可以在以后的讨论中看出来。

以方程(3.13)所表示的简单系统为例，

$$

\left.

\begin{align}

M & = \frac{1}{\sqrt{ 1 + \omega^{2}\tau_{1}^{2} }} = \frac{1}{\sqrt{ 1 + u^{2} }} \\

\theta & = -\arctan \omega \tau_{1} = -\arctan u

\end{align}

\right\} u = \omega \tau_{1}

$$

其中${u = \omega \tau_{1}}$是无量纲频率【9,6]。这个系统的伯德图就是图3.6。

频率特性在低频率和高频率时的情况已经用方程(3.14)和(3.15)表示出来了。

当u→∞时，log10M 对 log10u的图线的斜率是 $-1$ ,

对于很小的u值来说,斜率差不多是0。

因此,一个一阶系统的M~u图可以用两条直线来近似地代替,这两条直线就是图3.6中的虚折线。

这条虚折线称为**渐近对数振幅特性**或者**梯形对数振幅特性**。

![[工程控制论chap03输入输出传递函数--202403241503-2.png]]

在声学和电学的文献里,为了把振幅的度量单位化为分贝(decibel,简写为db),常常改用20log10M作为M~u图中的因变数。

频率增加一倍就称为一个倍频程(octave,简写为oct)。

因此,图3.6中斜率等于-1的部分,用分贝和倍频程作单位,这部分的斜率就是${-20\log_{10}2=-6.02}$分贝/倍频程(db/oct)。

在图3.6里我们还看到这样一个事实:近似于 log10M的虚线在u=1点,也就是ω=1/z处通过0值。

因此,我们就可以用实验方法测量一个一阶系统的频率特性,把测量的结果按照上述的方式画成伯德图。

只要记下伯德图上log10M的近似直线穿过横轴时的角频率w。就可以简单地估计出系统的时间常数 t≈1/w。

另外一个表示频率特性的方法是乃奎斯特(H.Nyquist)所创始的,称为乃氏图。

这种方法是把复数F(i)或1/F(i)直接画到F平面或1/F平面上去,曲线的参数就是角频率ω。

函数1/F有时候称为反振幅相角特性。

F平面上的图线F(iw)就称为振幅相角特性。

对于一个简单的一阶系统来说,F(iw)=1/(1+iwT)的图线是一个半圆,

在ω=0时,图线从1点出发;在ωT=u=1时,图线通过1/(1+i)=(1/2)(1-i)点;

当ω→∞时,图线趋向于原点,并且以原点为终点。

在这种情形里,1/F图线比F图线还要简单得多:1/F=1+iwr。

所以,在1/F平面上,这条图线就是从1点出发的一条与虚轴平行的直线。

图3.7就是一阶系统的两种乃氏图。

![[工程控制论chap03输入输出传递函数--202403241503-3.png]]

## 3.3 一阶系统的例子

### 积分元件 电动机

$$

\frac{\mathrm{d}\phi}{\mathrm{d}t}  = Kv

$$

$$

F(i\omega) = \frac{K}{i\omega} = \left( \frac{K}{\omega} \right)\exp(-i(\pi /2)

$$

### 微分元件 回转测速计（测速陀螺）

$$

v = K \frac{\mathrm{d}\phi}{\mathrm{d}t} 

$$

### 简单的相角落后电路

$$

F(s) = \frac{V_{2}(s)}{V_{1}(s)} = \frac{1}{1 + RCs}

$$

### 相角超前电路

$$

F(s) = \frac{V_{2}(s)}{V_{1}(s)} = \frac{R_{2} + R_{1}R_{2}Cs}{(R_{1} + R_{2}) + R_{1}R_{2}Cs}

$$

$$

F(s) = r \frac{1 + (s / r\omega_{1})}{1+(s / \omega_{1})}

$$

其中${\omega_{1} = \frac{R_{1}+R_{2}}{R_{1}R_{2}C}}$

### 频带的相角落后电路

$$

F(s) = r \frac{1 + (s / \omega_{1})}{1+(s / r\omega_{1})}

$$

### 简化的飞机横滚运动

飞机对纵轴转动惯量 ${I}$

滚转角 ${\phi}$

滚转空气动力阻尼系统 ${L_{p}}$

副翼倾斜度 ${\delta}$

副翼倾斜力矩 ${k\delta}$

$$

I\frac{\mathrm{d}^{2}\phi}{\mathrm{d}t^{2}} + L_{p} \frac{\mathrm{d}\phi}{\mathrm{d}t} = k\delta

$$

${p = \frac{\mathrm{d}\phi}{\mathrm{d}t}}$ 滚转角速度

$$

I \frac{\mathrm{d}p}{\mathrm{d}t} + L_{p}p = k\delta

$$

${t = 0, p = 0}$

$$

(Is + L_{p})P(s) = k\Delta(s)

$$

传递函数 ${F(s)}$

$$

F(s) = \frac{P(s)}{\Delta(s)} = \frac{k}{Is + L_{p}} = \frac{k}{L_{p}} \frac{1}{1 + (I / L_{p})s}

$$

类似带阻尼悬臂弹簧与简单的相角落后电路运动状态

时间常数 ${\tau_{1} = \frac{I}{L_{p}}}$

## 3.4 二阶系统

带阻尼弹簧振子，阻尼一段加质量m引起惯性力。

$$

m\frac{\mathrm{d}^{2}y}{\mathrm{d}t^{2}} + c\frac{\mathrm{d}y}{\mathrm{d}t} + ky = kx

$$

$$

\begin{cases}

y(0) = y_{0} \\

\left( \frac{\mathrm{d}y}{\mathrm{d}t}  \right)_{t = 0} = y_{0}^{(1)}

\end{cases}

$$

引入两个参数固有频率，阻尼比${\omega^{2} = \frac{k}{m}, \zeta = \frac{c /m}{2\omega_{0}}}$， 简化方程

$$

\frac{\mathrm{d}^{2}y}{\mathrm{d}t^{2}} + 2\zeta\omega_{0}\frac{\mathrm{d}y}{\mathrm{d}t} + \omega_{0}^{2}y = \omega_{0}^{2}x

$$

拉式变换

$$

(s^{2} + 2\zeta\omega_{0}s + \omega_{0}^{2})Y(s) = 

\omega_{0}^{2} X(s) + y_{0}^{(1)} + (s+2\zeta\omega_{0})y_{0}

$$

初始条件引起的输出

$$

Y_{c}(s) = \frac{y_{0}^{(1)} + (s+2\zeta\omega_{0})y_{0}}{s^{2} + 2\zeta\omega_{0}s + \omega_{0}^{2}}

$$

传递函数

$$

F(s) = \frac{Y_{i}(s)}{X(s)} = \frac{1}{\frac{1}{\omega_{0}^{2}}s^{2} + 2\zeta \left( \frac{1}{\omega_{0}} \right)s + 1}

$$

%% todo %%

## 3.5 确定频率特性的方法

在以前各节的讨论里,我们所考虑的问题的性质都是这样的:假定已经知道一个系统的详细的构造,根据这些知识和基本的物理定律算出系统的传递函数F(s)和频率特性F(iw)。

不难看出,这种确定频率特性的方法是一种理论的方法，它的结果的精确度完全依赖于我们对于系统的了解的精确程度。

可是,在工程实践中,我们往往对于系统的详细构造知道得很不完备;也有时候,虽然对系统的详细构造知道得很清楚,但是系统过于复杂,以至于使频率特性的理论计算作起来也过分繁重。

在这样一些情况中,我们常常用实验方法来确定系统的频率特性，我们最容易想到的方法就是利用方程(2.16)所表示的这样一个事实:在频率是ω的正弦式的输入下,稳态输出和输人的比值就是频率特性F(iw)。

输出的振幅和输人的振幅的比值就是M。输出和输入的相角差就是0。

因此,如果用实验方法来确定频率特性就必须在所需用的频率范围之内。

对于若干特殊的频率值测量振幅比值和相角差。

事实上,确实也曾经把这个方法用到某些系统上去过。

例如,比较简单的油泵系统Ф和相当复杂的整个飞机的纵向运动的系统。

这个方法的缺点是:对于一个比较宽的频率范围就常常需要对很多不同的频率${\omega}$的值作很多的测量。并且有时候也很难测量输出和输入的相角差。

另外一个更有效的方法就是:同时激发起所有的频率,而不是对各个频率进行个别的激发。

为了达到这个目的,最好的办法就是用一个单位冲量作输入。这时,根据方程(2.18),对于稳定系统(y=0)来说，

$$

h(t) = \frac{1}{2\pi} \int_{-\infty}^{+\infty} F(i\omega)\exp(i\omega t) \, \mathrm{d}\omega 

$$

$$

h(t) = \frac{1}{\pi}\int_{0}^{\infty} [\mathrm{Re}(F(i\omega))\cos\omega t + \mathrm{Im}(F(i\omega))\sin\omega t] \, \mathrm{d}\omega 

$$

其中Re和Im分别表示实数部分和虚数部分的符号。

这个方程的第二个等式可能是由于有关系式(3.17)的缘故。

方程(3.49)表明,输入的单位冲量均等地激起了所有的频率(这也就是说,各个频率的振幅都是同一数量级的)。

当系统对单位冲量的反应 h(t)已经知道的时候(我们只要作一次实验就可以测出h(t)),我们就可以用下列公式计算频率特性。

$$

F(i\omega) = \int_{0}^{\infty} h(t)\exp(-i\omega t) \, \mathrm{d}t 

$$

(3.50)

对于任何一个固定的ω值,我们都可以用数值积分的方法算出这个积分。

然而,实际上,一个理想的冲量是很难真正作出来的。

比较实际可行的输人是矩形的脉冲和三角形的脉冲,就像图3.22所表示的那样。这样一些脉冲当然不能均等地激起所有的频率。

但是,如果我们把脉冲的长度作得相当小的话,也就可以认为,已经相当理想地达到了均匀地激起所有频率的目的。

西门斯(R.C Seamans)和他的同事们就曾经用这种冲量激发的方法去确定一架飞机的频率特性。

他们还提出一种根据测量到的输出y()计算F(iw)的近似方法。克尔夫曼(H.J.Curfman)和格第内尔(R,A. Gardiner)把这种处理实验数据的方法又推广到输入是任意形式的情形中去。

## 3.6 多个部件组成的系统

在3.1节、3.3节和3.4节所讨论过的那些系统实际上只不过是某些更复杂的系统的部件而已。实际工程中,稳定装置和控制装置所需要的却常常是这种复杂的系统。

以飞机的横滚运动为例。通常是用电流作控制副翼转动的信号。这个电流信号就是一个包含放大器和计算装置的部件的输入,在这个部件里当然包含某种电路,也还可能包含一些电子管。这个由放大器和计算装置所组成的部件的运动状态是由它的传递函数F(s)所确定的。再把这个部件的输出取作转动副翼的液压伺服马达的输人。液压伺服马达的运动状态是由传递函数F(s)所描述的。最后,把伺服马达的输出,也就是副翼的转动,取作那个代表飞机的横滚动力特性的系统的输人;假设飞机的动力特性用传递函数F(s)来表示;那么,横滚动力特性系统的输出就是飞机的横滚运动了。这里,从滚动的控制信号到滚动运动,在系统的各个部件之间有着一系列的联系。如果用x(t)表示控制滚动的信号,用中t)表示飞机的横滚角的话,那么,相当的拉氏变换的关系就是

$$

Φ(s)=F(s)F(s)F(s)X(s)。

$$

因此,整个的横滚控制系统的传递函数就是乘积F3(s)F2(s)F1(s)。

从这个例子也还能很清楚地看到这样一个事实:

一般说来,传递函数是有量纲的,因为它是两个不同量纲的物理量的比值。

在现在的这个例子里,作为输入的滚动信号是一个电流,可是作为输出的横滚角却是一个角度,电流的量纲和角度的量纲当然是不同的。

一般说来,如果一个系统是由n个个别的部件串联组成的(图3.23)。

并且假设这些部件的传递函数分别是F1(s),F2(s),…,Fr(s),…,Fn(s),

而放大分别是K1,K2,…,Kr,…,Kn,

那么,整个系统的传递函数F(s)就是

$$

F(s)=F_{1}(s)F_{2}(s)…F_{r}(s)…F_{n} (s)

$$

(3.51)

整个系统的放大K就是

$$

K = K_{1}K_{2}\dots K_{r}\dots K_{n} 

$$

(3.52)

从方程(3.51)很明显地看出,在一个系统里传递函数F(s)的零点和极点也就是各个个别部件的零点和极点的全体(当然也可能有某一个部件的零点和另外一个部件的极点互相抵消的情形)。

因此,如果再用方程(3.52)算出整个系统的放大K。

传递函数F(s)就完全被确定了。

系统的频率特性是 $F(i\omega)=M\exp{(i\theta)}$。

如果第r个部件的频率特性是${M_{r}\exp{(i\theta_{r})}}$的话。

那么,根据方程(3.51)就有

$$

\begin{align}

M\exp(i\theta)  & = 

(M_{1}\exp(i\theta_{1}))

(M_{2}\exp(i\theta_{2}))\dots

(M_{r}\exp(i\theta_{r}))\dots

(M_{n}\exp(i\theta_{n})) \\

 &  = 

(M_{1}M_{2}\dots M_{r}\dots M_{n})\exp(i(\theta_{1}+\theta_{2} + \dots+ \theta_{r} + \dots + \theta _{n} ))

\end{align}

$$

$$

\begin{cases}

\log_{10}M = 

\log_{10}M_{1} + 

\log_{10}M_{2} + 

\log_{10}M_{r} + 

\log_{10}M_{n} \\

\theta = \theta_{1} + \theta_{2} + \dots + \theta_{r} + \theta _{n} 

\end{cases}

$$

由方程(3.53)就可以理解在伯德图中为什么要采用对数尺度的理由。采用了对数尺度以后,就可以使寻求系统的特性的工作大大地简化了,因为只要把各个组成部件的伯德图线的坐标简单地叠加起来就行了。

## 3.7超越的传递函数

不只是常系数线性常微分方程的初值问题可以用拉氏变换法来解,

对于线性偏微分方程的情况(具有分布参数的控制系统的微分方程就常常是偏微分方程),

只要方程的系数与时间自变数t无关,而且边界条件中关于t的部分可以用对时间变数t而言的初值条件来叙述,

那么,拉氏变换法还是可用的。

作过拉氏变换以后,原来的偏微分方程中的时间自变数t就被消去了,同时也就出现了一个新的参数s。

原来的方程就变成一个对于其余的自变数的微分方程(因为s并不是新微分方程的自变数)。

然后,就可以用其余的边界条件把这个微分方程解出来。这样得到的解里,当然包含了参数s。

把这个解进行拉氏反变换就可以得到原来的偏微分方程的解了。这种解法的手续显然是比第二章讨论过的常微分方程的解法复杂得多。

但是,从另一方面来看,如果在变换后的方程的解里把任意两个特定的量加以比较,我们可以看到,它们之间的关系仍然是线性的。

如果把其中的一个看作是输入,把另外一个看作是输出的话,那么,它们的比值还是一个s的函数,我们也还把这个函数看作是传递函数F(S)。

不过,有一点是不同的:这个传递函数不再是两个s的多项式的比值了,一般地说,它是一个s的超越函数。现在我们来举两个例子:

首先,我们考虑这样一个传热问题:有一座墙壁(例如炉壁)(图3.24),它的厚度是L,宽度和高度都可以认为是无限大的。墙的导热系数是。热容量(也就是密度和比热的乘积)是$c$。墙的左面(也就是坐标$x=0$的地方)的温度是一个已知的时间函数$u=u(t)$,墙的右面(也就是$x>=l$的区域)是热绝缘的。假定墙的初始温度是${\theta}$。很明显,墙内各点的温度0必然是坐标x和时间t的函数$\theta=\theta(z,t)$。${\theta}$的微分方程是

$$

k\frac{ \partial^{2}\theta }{ \partial x^{2} } = c\frac{ \partial \theta }{ \partial t } 

$$

初始条件

$$

\theta(x,0) = 0

$$

边界条件

$$

\begin{cases}

\theta(0,t) = u(t) \\

\frac{ \partial \theta }{ \partial x }|_{x = t} = 0

\end{cases}

$$

%% todo %%

